{
	"name": "rpotential-d1-backend",
	"version": "0.0.0",
	"private": true,
	"scripts": {
		"deploy": "wrangler deploy",
		"dev": "wrangler dev",
		"start": "wrangler dev",
		"test": "vitest run",
		"cf-typegen": "wrangler types",

		"# DATABASE MANAGEMENT": "Database-related scripts for D1",
		"db:generate": "prisma generate",
		"db:migrate:create": "prisma migrate diff --from-empty --to-schema-datamodel ./prisma/schema.prisma --script",
		"db:migrate:apply:local": "wrangler d1 migrations apply prisma-demo-db --local",
		"db:migrate:apply:remote": "wrangler d1 migrations apply prisma-demo-db --remote",
		"db:migrate:status": "wrangler d1 migrations list prisma-demo-db",
		"db:reset:local": "wrangler d1 execute prisma-demo-db --local --command \"DROP TABLE IF EXISTS User; DROP TABLE IF EXISTS Session; DROP TABLE IF EXISTS Thread; DROP TABLE IF EXISTS Message; DROP TABLE IF EXISTS File; DROP TABLE IF EXISTS Artifact; DROP TABLE IF EXISTS Reaction; DROP TABLE IF EXISTS MessageFile; DROP TABLE IF EXISTS ArtifactFile; DROP TABLE IF EXISTS _prisma_migrations;\"",
		"db:seed:local": "wrangler d1 execute prisma-demo-db --local --file ./scripts/seed.sql",
		"db:seed:remote": "wrangler d1 execute prisma-demo-db --remote --file ./scripts/seed.sql",
		"db:query:local": "wrangler d1 execute prisma-demo-db --local --command",
		"db:query:remote": "wrangler d1 execute prisma-demo-db --remote --command",
		"db:export:local": "wrangler d1 export prisma-demo-db --local --output ./backups/local-backup.sql",
		"db:export:remote": "wrangler d1 export prisma-demo-db --remote --output ./backups/remote-backup.sql",
		"db:export:schema": "wrangler d1 export prisma-demo-db --remote --output ./backups/schema-only.sql --no-data",
		"db:export:data": "wrangler d1 export prisma-demo-db --remote --output ./backups/data-only.sql --no-schema",
		"db:backup:create": "wrangler d1 backup create prisma-demo-db",
		"db:backup:list": "wrangler d1 backup list prisma-demo-db",
		"db:backup:restore": "wrangler d1 backup restore prisma-demo-db",
		"db:info": "wrangler d1 info prisma-demo-db",
		"db:tables:local": "wrangler d1 execute prisma-demo-db --local --command \"SELECT name FROM sqlite_schema WHERE type='table' ORDER BY name;\"",
		"db:tables:remote": "wrangler d1 execute prisma-demo-db --remote --command \"SELECT name FROM sqlite_schema WHERE type='table' ORDER BY name;\"",
		"db:setup": "npm run db:generate && npm run db:migrate:apply:local",
		"db:deploy": "npm run db:migrate:apply:remote",
		"db:fresh:local": "npm run db:reset:local && npm run db:migrate:apply:local && npm run db:seed:local",

		"# DEVELOPMENT HELPERS": "Development workflow scripts",
		"db": "./scripts/db-manager.sh",
		"setup": "npm install && npm run db:setup",
		"clean": "rm -rf node_modules dist .wrangler && npm install"
	},
	"devDependencies": {
		"@cloudflare/vitest-pool-workers": "^0.8.19",
		"prisma": "^6.9.0",
		"typescript": "^5.5.2",
		"vitest": "~3.0.7",
		"wrangler": "^4.19.1"
	},
	"dependencies": {
		"@prisma/adapter-d1": "^6.9.0",
		"@prisma/client": "^6.9.0",
		"hono": "^4.8.4",
		"nanoid": "^5.1.5",
		"zod": "^4.0.5"
	}
}
